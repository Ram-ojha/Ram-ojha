<!-- <app-full-loader [display]="showLoader"></app-full-loader> -->
<!--- Main list ----->
<div class="main-container">
  <div class="container">
    <div class="row">
      <div class="col-md-12 col-12 col-lg-12">
        <div class="top-head marT10 marB10">
          <div class="row">
            <div class="col-lg-3 col-12 col-md-4">
              <div class="left-model-name">
                <h2>{{ plan.vehicleDesc }}</h2>
                <h4>
                  {{ plan.RegYear
                  }}{{
                  plan.engineSize ? " | " + plan.engineSize + " CC" : " "
                  }}
                  <a (click)="onClickNotYourBike()">NOT YOUR BIKE?</a>
                </h4>
              </div>
            </div>
            <div class="col-lg-6 col-12 col-md-4">
              <div class="row comprehensive">
                <div class="col-md-12 col-lg-4">
                  <section class="example-section">
                    <mat-slide-toggle (toggleChange)="onToggleChange(0)"
                      [disabled]="plan.isOdOnly || disableComprehensive || plan.SubCateCode == 2 || disableControlsUntilLoading"
                      class="example-margin" color="warn" [(ngModel)]="plan.isComprehensive">
                      Comprehensive
                    </mat-slide-toggle>
                  </section>
                </div>
                <div class="col-md-12 col-lg-3">
                  <section class="example-section">
                    <mat-slide-toggle [disabled]="
                        PreviousPolicyTypeCode != 3 ||
                        showOd ||
                        plan.SubCateCode == 2 ||
                        disableControlsUntilLoading
                      " (toggleChange)="onToggleChange(2)" class="example-margin" color="warn"
                      [(ngModel)]="plan.isOdOnly">
                      OD Only
                    </mat-slide-toggle>
                  </section>
                </div>
                <div class="col-md-12 col-lg-4">
                  <section class="example-section">
                    <mat-slide-toggle
                      [disabled]="plan.isOdOnly ||disableTP|| plan.SubCateCode == 2 || disableControlsUntilLoading"
                      (toggleChange)="onToggleChange(1)" class="example-margin" color="warn" [(ngModel)]="plan.isTp">
                      Third Party Only
                    </mat-slide-toggle>
                  </section>
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-12 col-md-4">
              <div class="left-model-name txt-R">
                <h2>
                  {{ plan.rto
                  }}{{ plan.vehicleNo ? " | " + plan.vehicleNo : " " }}
                </h2>
                <h4 (click)="onClickNotYourBike()">
                  {{ plan.SubCateDesc }} <a>EDIT</a>
                </h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- IDV Editer -->
<div class="editer-plan">
  <div class="container">
    <div class="row">
      <div class="col-md-12 mx-auto">
        <mat-card>
          <div class="col-md-12 col-12">
            <div class="row">
              <div class="col-lg-2 col-12 col-md-4 pad0">
                <div class="middle-block-check">
                  <!-- <span class="left-icon">
                    <img src="./assets/img/insurance/shield.png" alt="" />
                  </span> -->
                  <span class="right-text">
                    <h4 matTooltip="The maximum value you will receive in case of total damage or theft."
                      matTooltipClass="materila-card mat-stepper-horizontal ng-tns-c4-1 mat-stepper-label-position-end"
                      aria-label="Button that displays a tooltip when focused or hovered over"
                      [ngClass]="{ idvDisabled: plan.isTp }">
                      Bike Cover Value (IDV):
                      <b class="cursor" (click)="onClickOpenIdvModal()" *ngIf="!plan.isTp">
                        {{ plan.idvType == 1 ? "Lowest " : " " }}
                        <i class="fa fa-chevron-down" aria-hidden="true" [hidden]='disableControlsUntilLoading'></i></b>
                    </h4>
                    <mat-label [ngClass]="{ idvDisabled: plan.isTp }" class="dep">
                      IDV from
                      {{ this.plan.idvValue | currency: "INR":"symbol":"3.0" }}
                    </mat-label>
                    <h4>
                      Currently set for lowest price
                    </h4>
                  </span>
                </div>
              </div>
              <div class="col-lg-2 col-12 col-md-4 pad0">
                <div class="left-model-name Claim_Policy" *ngIf="plan.SubCateCode != 2">
                  <h4 class="hide">
                    Claim in Previous Policy : {{ plan.ClaimPrvPolicyDesc }}
                  </h4>

                  <h5 *ngIf="!plan.isTp" class="ncb-value">
                    Previous NCB
                    {{ plan.previousNcb }}%
                    <!-- <a  >Edit</a> -->
                    <a [hidden]="!isNcbEditable || disableControlsUntilLoading || isExMoreThan90Days == true  || plan.currentNcb == '0' "
                      [matMenuTriggerFor]="menu">Edit</a>
                    <mat-menu #menu="matMenu">
                      <button mat-menu-item [value]="item.value" (click)="onClickOkPrvPolicyModal(item.value)"
                        *ngFor="let item of ncbList">{{ item.value }} %</button>
                    </mat-menu>
                    <!-- <mat-form-field appearance="fill">
                      <mat-label [hidden]="!isNcbEditable || disableControlsUntilLoading || isExMoreThan90Days == true  || plan.currentNcb == '0' "
                      (click)="openModalDialog()"> Edit</mat-label>
                  <mat-select title="Select NCB" [formControl]="ncbInput" > 
                  <mat-option [value]="item.value" *ngFor="let item of ncbList">{{ item.value }} %
                  </mat-option>
                </mat-select>  
                </mat-form-field> -->
                  </h5>
                  <!-- // data-target="#policyExpiryDateModal" data-toggle="modal"-->
                  <h5 *ngIf="!plan.isTp" class="ncb-value">
                    Current NCB : {{plan.currentNcb}}%
                  </h5>
                  <h5 class="ncb-value" *ngIf="plan.isTp">Current NCB : N/A</h5>
                </div>
              </div>
              <div class="col-lg-2 col-md-4 col-12 pad0 txt-R">
                <div class="middle-block-check">
                  <span class="right-text">
                    <h4>
                      <mat-checkbox [(ngModel)]="plan.zeroDp" [disabled]="plan.isTp || disableControlsUntilLoading"
                        (change)="onChangeZeroDep()"
                        matTooltip="Zero depreciation means that you will get full cost of repair in case your bike gets damaged in accident. It is also called Bumper to Bumper cover."
                        matTooltipClass="materila-card mat-stepper-horizontal ng-tns-c4-1 mat-stepper-label-position-end"
                        aria-label="Button that displays a tooltip when focused or hovered over" #zeroDp>
                        Zero Depreciation</mat-checkbox>
                      <!-- <label class="dep">
                      Starting at
                      <i class="fa fa-rupees" aria-hidden="true"></i>
                      48
                    </label> -->
                    </h4>
                  </span>
                </div>
              </div>
              <div class="col-lg-1 col-12 col-md-5 pad0" *ngIf="plan.SubCateDesc == 'New Bike'">
                <div class="middle-block-check">
                  <span class="right-text">
                    <h4>
                      <mat-checkbox [(ngModel)]="plan.isTPPD" [disabled]="disableControlsUntilLoading"
                        (change)="onChangeTPPD()"
                        matTooltip="This plan is also a third party plan. It covers damages to third party (i.e. other people/their properties damaged in the accident), but damages to third party property will be limited to Rs. 6000 per claim. You can drive legally on the roads if you purchase this plan."
                        matTooltipClass="materila-card mat-stepper-horizontal ng-tns-c4-1 mat-stepper-label-position-end"
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        TPPD </mat-checkbox>
                      <!-- <label class="dep">
                      Starting at
                      <i class="fa fa-rupees" aria-hidden="true"></i>
                      260
                    </label> -->
                    </h4>
                  </span>
                </div>
              </div>
              <div class="col-lg-3 col-12 col-md-5 pad0">
                <div class="middle-block-check">
                  <span class="right-text">
                    <h4>
                      <mat-checkbox [(ngModel)]="plan.paCover" [disabled]="plan.isOdOnly || disableControlsUntilLoading"
                        (change)="onChangePAcover()" matTooltip="Personal Accident (PA) cover offers user or nominee Rs.15 Lakh in case of death or disability due to accident.

                                            You can buy a plan without PA cover if:
                                            1. The bike is registered in company's name.
                                            2. You already have a PA cover of Rs. 15 Lakh or more."
                        matTooltipClass="materila-card mat-stepper-horizontal ng-tns-c4-1 mat-stepper-label-position-end"
                        aria-label="Button that displays a tooltip when focused or hovered over">
                        Personal Accident (PA) Cover</mat-checkbox>
                      <!-- <label class="dep">
                      Starting at
                      <i class="fa fa-rupees" aria-hidden="true"></i>
                      260
                    </label> -->
                    </h4>
                  </span>
                </div>
              </div>
              <div class="col-lg-1 col-md-3 col-12 pad0">
                <mat-form-field *ngIf="plan.SubCateCode != 2" class="plan">
                  <mat-label>Tenure</mat-label>
                  <!-- [disabled]="plan.SubCateCode == 2" -->
                  <!-- [disabled]="plan.isOdOnly || disableControlsUntilLoading" -->
                  <mat-select disabled [(ngModel)]="plan.isMultiYear" (selectionChange)="onChangeYearPlan()">
                    <mat-option *ngFor="let year of yearList" [value]="year">{{ year.value }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-lg-2 col-md-3 col-12 pad0">
                <mat-form-field class="d-none">
                  <mat-label>Sort Plans :</mat-label>
                  <mat-select name="plans" [(ngModel)]="sortPlans" (change)="filterPremium()">
                    <!-- <mat-option value="0">Recommended</mat-option> -->
                    <!-- <mat-option value="2"><i class="fa fa-sort-amount-desc" aria-hidden="true"></i></mat-option>
                  <mat-option value="1"><i class="fa fa-sort-amount-desc" aria-hidden="true"></i></mat-option> -->
                  </mat-select>
                </mat-form-field>

                <div class="sort txt-R hide">
                  <label>Sort by Price</label>
                  <p (click)="filterPremium(2)" *ngIf="sortPlans">
                    <i class="fa fa-sort-amount-desc" aria-hidden="true"></i>
                  </p>
                  <p (click)="filterPremium(1)" *ngIf="!sortPlans">
                    <i class="fa fa-sort-amount-desc rotate" aria-hidden="true"></i>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</div>
<!-- Filter Tab -->

<section class="service-check">
  <div class="container">
    <div class="marB50 row">
      <!-- Service List --->
      <div class="col-md-12 col-12">


        <div class="whatsapp-btn" *ngIf='filteredPlans.length >0'>
          <button class="btn" (click)="openDialog()" [disabled]='disableControlsUntilLoading'
            matTooltip='Share Plans on whatsapp'>
            <i class="fa fa-whatsapp" aria-hidden="true"></i>
          </button>
        </div>

        <div class="response-btn">
          <button class="btn" (click)="openResponseModal()" [disabled]='disableControlsUntilLoading'>
            <i class="fa fa-copyright" aria-hidden="true"></i>
          </button>
        </div>

        <div class="bike-details-container" [style.margin-top]="plan.SubCateCode != 1 ? '' : '20px'" #screen>
          <div class="row">
            <div class="col-md-8 padL0">
              <!-- <span class="result d-none">
                <h4 *ngIf="plan.isTp">
                  Plans With {{ plan.isMultiYear.value }} Third Party Only
                </h4>
                <h4 *ngIf="plan.isOdOnly">
                  Plans With {{ plan.isMultiYear.value }} Own Damage Only
                </h4>
                <h4 *ngIf="plan.isComprehensive">
                  Plans With 1 Year Own Damage +
                  {{ plan.isMultiYear.value }} Third Party Only
                </h4>
              </span> -->
            </div>
            <div class="col-md-1"></div>
            <div class="col-md-3 col-10 mx-auto col-sm-6">
              <div class="left-model-name text-right marT10">
                <div class="row">
                  <!-- <label
                        class="col-md-4"
                        style="padding-top: 6px"
                        i18n="@@sortpaln"
                        >Sort Premium :</label
                      > -->
                  <!-- <mat-form-field class="insurers" appearance="fill">
                            <mat-label><i class="fa fa-sort-amount-asc" aria-hidden="true"></i> Sort Plans</mat-label>
                            <mat-select name="plans" [(ngModel)]="sortPlans"
                                (selectionChange)="filterPremium()">
                                <mat-option value="0">Recommended</mat-option>
                                <mat-option value="1">Premium (high-low)</mat-option>
                                <mat-option value="2">Premium (low-high)</mat-option>
                            </mat-select>
                        </mat-form-field> -->
                </div>
                <!-- <div class="col-md-3">
                                        <button data-v-11c2a9e8=""
                                            class="w--button w--button--basedark w--button--filterplans"
                                            data-toggle="modal" data-target=".bd-example-modal-lg">
                                            <i class="fa fa-filter" aria-hidden="true"></i> Filter Plans</button>
                                    </div> -->
              </div>
            </div>
            <div class="col-lg-3 col-12 col-md-6"
              *ngFor="let items of filteredPlans | filterPlans: plan.zeroDp: true; let i = index">
              <div class="price-plan">
                <div class="price-box">
                  <div class="image">
                    <figure>
                      <!-- <img [src]="items.CompanyLogo" alt="CompanyLogo" /> -->
                      <img src='{{ "assets/img/company-logos/motor/" + items.imageName  }}'
                        alt="{{items.ProductName}}" />

                    </figure>
                  </div>
                  <ul class="policy-tag">

                    <li *ngIf="plan.paCover">
                      <i class="fa fa-check"></i> PA (Cover)
                    </li>

                    <li *ngIf="plan.zeroDp">
                      <i class="fa fa-check"></i> Zero Depreciation
                    </li>

                    <li *ngFor="let i of TppdList">

                      <span *ngIf="plan.isTPPD && i.policyCode == items.CompanyCode && i.exists != -1">
                        <i class="fa fa-check"></i> TPPD
                      </span>
                      <span *ngIf="plan.isTPPD && i.policyCode == items.CompanyCode && i.exists == -1">
                        <i class="fa fa-times"></i> TPPD
                      </span>
                    </li>

                  </ul>

                  <div class="price-tag">
                    <span class="cut">
                      {{
                      premiumWithoutDiscount(items)
                      | currency: "INR":"symbol":"3.0"
                      }}
                    </span>
                    <span class="cut-price">{{
                      items.Premium | currency: "INR":"symbol":"3.0"
                      }}</span>
                  </div>
                  <p class="gst-tag">*Exclusive of GST</p>
                  <div class="p-detls">
                    <div class="row mb-1">
                      <div class="col-md-6 bdr_R" *ngIf="!plan.isTp">
                        IDV:
                        {{ items.IDVVAlue | currency: "INR":"symbol":"3.0" }}
                      </div>
                      <div class="col-md-6" [ngClass]="{ 'col-md-12': plan.isTp }">
                        {{ plan.isMultiYear.value }} Plan
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6 bdr_R">
                        <a (click)="selectTab(0, items)" class="view-details">Premium Breakup</a>
                      </div>
                      <div class="col-md-6">
                        <a [href]="
                            items.garageURL != null ? items.garageURL : ''
                          " target="_blank" class="view-details mt-1">View Garages</a>
                      </div>
                    </div>
                  </div>
                  <div class="buy-nw">
                    <a class="btn-buy" (click)="onBuyPlanClick1(items)">Buy Now</a>
                  </div>
                  <div class="cover-plan" *ngIf="plan.SubCateCode == 2">
                    Bundled Cover (1 Year OD + {{ plan.isMultiYear.value }} TP)
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3 planHolder" [hidden]="planLoader">
              <app-sm-loader></app-sm-loader>

            </div>
          </div>

          <!-- showing non matching plans  -->


          <div class="divider" *ngIf='(filteredPlans | filterPlans:plan.zeroDp : false)?.length > 0'>
            <h4>Plans without Zero Depreciation</h4>
          </div>
          <!-- Plans without Zero dep -->
          <div class="row">
            <div class="col-lg-3 col-12 col-md-6" *ngFor="let items of filteredPlans | filterPlans: plan.zeroDp: false">
              <div class="price-plan">
                <div class="price-box">
                  <div class="image">
                    <figure>
                      <!-- <img [src]="items.CompanyLogo" alt="CompanyLogo" /> -->
                      <img src='{{ "assets/img/company-logos/motor/" + items.imageName  }}'
                        alt="{{items.ProductName}}" />

                    </figure>
                  </div>
                  <ul class="policy-tag">
                    <li *ngIf="plan.paCover">
                      <i class="fa fa-check"></i> PA (Cover)
                    </li>

                    <li *ngFor="let i of TppdList">

                      <span *ngIf="plan.isTPPD && i.policyCode == items.CompanyCode && i.exists != -1">
                        <i class="fa fa-check"></i> TPPD
                      </span>
                      <span *ngIf="plan.isTPPD && i.policyCode == items.CompanyCode && i.exists == -1">
                        <i class="fa fa-times"></i> TPPD
                      </span>


                    </li>
                  </ul>
                  <div class="price-tag">
                    <span class="cut">
                      {{
                      premiumWithoutDiscount(items)
                      | currency: "INR":"symbol":"3.0"
                      }}
                    </span>
                    <span class="cut-price">{{
                      items.Premium | currency: "INR":"symbol":"3.0"
                      }}</span>
                  </div>
                  <p class="gst-tag">*Exclusive of GST</p>
                  <div class="p-detls">
                    <div class="row mb-2">
                      <div class="col-md-6 bdr_R" *ngIf="!plan.isTp">
                        IDV:
                        {{ items.IDVVAlue | currency: "INR":"symbol":"3.0" }}
                      </div>
                      <div class="col-md-6" [ngClass]="{ 'col-md-12': plan.isTp }">
                        {{ plan.isMultiYear.value }} Plan
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6 bdr_R">
                        <a (click)="selectTab(0, items)" class="view-details">Premium Breakup</a>
                      </div>
                      <div class="col-md-6">
                        <a [href]="
                            items.garageURL != null ? items.garageURL : ''
                          " target="_blank" class="view-details mt-1">View Garages</a>
                      </div>
                    </div>
                  </div>
                  <div class="buy-nw">
                    <a class="btn-buy" (click)="onBuyPlanClick1(items)">Buy Now</a>
                  </div>
                  <div class="cover-plan" *ngIf="plan.SubCateCode == 2">
                    Bundled Cover (1 Year OD + {{ plan.isMultiYear.value }} TP)
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- <section class="service-check response-model" *ngIf="!disableControlsUntilLoading">  -->
          <div class="row response-model p-4 mt-5" *ngIf="!disableControlsUntilLoading">
            <div class=" col-lg-12 col-12 col-md-12">
              <p style="margin: 0;"><span class="response-model-note">Note: </span>We did not receive any response from
                the following insurer for the given input data.
              </p>
            </div>


            <div class="col-lg-12 col-12 col-md-12 row mb-2 response-model-div">

              <div class="col-md-2 col-6 col-lg-2 list-group response-model-company-image"
                *ngFor="let items of responseResult">
                <figure class="list-group-item list-group-item-action ">
                  <img class="response-model-company-logo"
                    src='{{ "assets/img/company-logos/motor/" + items.data.ImageName }}'
                    alt='{{items?.data?.APIMethod?.split(" /")[0]}}' />
                </figure>
              </div>
            </div>
          </div>
          <!-- </section> -->

          <!-- by sourabh end -->
        </div>
      </div>
    </div>
    <br /><br />

  </div>
</section>


<!-- Bike Result-->

<!-- Modal for IDV  -->
<!-- <div
  class="modal fade price_filter"
  id="idvModal"
  data-backdrop="static"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="row">
          <div class="col-md-3" style="border-right: 1px solid #d2d6d8f2">
            <p class="hamara-text">Cover Value (IDV):</p>
            <span class="hamara__wrap__subtitle">
              The maximum value you will receive in case of total damage or
              theft.
            </span>
          </div>
          <div class="col-md-9 filter">
            <mat-radio-group
              aria-label="Select an option"
              class="row"
              [formControl]="idvRadioType"
              (change)="onChangeIdv()"
            >
              <div class="col-md-2">
                <label>
                  <small>Min IDV</small>
                  <br />
                  <i aria-hidden="true" class="fa fa-rupee marL5"> </i>
                  {{ minIdv }}
                </label>
              </div>
              <div class="col-md-8 idv_slider">
                <mat-slider
                  #gridsize
                  [(ngModel)]="formatLabel"
                  (change)="updateSetting($event)"
                  min="{{ minIdv }}"
                  [value]="gridsize"
                  max="{{ maxIdv }}"
                >
                </mat-slider>
              </div>
              <div class="col-md-2">
                <label>
                  <small>Max IDV</small>
                  <br />
                  <i aria-hidden="true" class="fa fa-rupee marL5"></i>
                  {{ maxIdv }}
                </label>
              </div>
              <div class="col-md-2">
                <mat-radio-button [value]="3" class="marL0">
                  Set your own
                </mat-radio-button>
              </div>

              <div class="col-md-7">
                <div class="idv-input">
                  <mat-form-field class="example-full-width" floatLabel="never">
                    <input
                      matInput
                      placeholder="Enter your own IDV value"
                      appOnlyNumbers
                      maxlength="6"
                      [formControl]="idvInputValue"
                      max="{{ maxIdv }}"
                      min="{{ minIdv }}"
                      [value]="gridsize.value"
                      id="idvId"
                      required
                    />
                  </mat-form-field>
                </div>
              </div>
              <div class="col-md-3 filter">
                <input
                  type="button"
                  value="Set Value"
                  (click)="onSetValueClick(this.idvRadioType.value)"
                  class="w--button"
                  style="width: 100%"
                />
              </div>
            </mat-radio-group>
          </div>

          <div class="col-md-12 text-center">
            <div class="col-md-12 text-error">
              {{ idvErrMsg }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->
<!-- class="modal fade price_filter" id="idvModal" -->
<!-- new by saurabh -->
<div class="modal fadein price_filter policyexpiry" [ngStyle]="{'display' : this.idvPopUp}" data-backdrop="static"
  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div>
          <button type="button" class="close color-black" (click)='closeModalDialog()' data-dismiss="modal"
            aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="row">
          <div class="col-md-3 hamarabima-text">
            <p class="hamara-text">Cover Value (IDV):</p>
            <span class="hamara__wrap__subtitle">
              The maximum value you will receive in case of total damage or
              theft.
            </span>
          </div>
          <div class="col-md-9 filter">
            <mat-radio-group aria-label="Select an option" class="row" [formControl]="idvRadioType">
              <div class="col-md-2">
                <label>
                  <small>Min IDV</small>
                  <br />
                  <i aria-hidden="true" class="fa fa-rupee marL5"> </i>
                  {{ minIdv }}
                </label>
              </div>
              <div class="col-md-8 idv_slider">
                <mat-slider #gridsize [(ngModel)]="formatLabel" (change)="updateSetting($event)" min="{{ minIdv }}"
                  [(ngModel)]="gridsize.value" max="{{ maxIdv }}">
                </mat-slider>
              </div>
              <div class="col-md-2">
                <label>
                  <small>Max IDV</small>
                  <br />
                  <i aria-hidden="true" class="fa fa-rupee marL5"></i>
                  {{ maxIdv }}
                </label>
              </div>
              <div class="col-md-2">
                <mat-checkbox class="marL0" (change)="setCustomIdv($event)">
                  Set your own
                </mat-checkbox>
              </div>

              <div class="col-md-7">
                <div class="idv-input">
                  <mat-form-field class="example-full-width" floatLabel="never">
                    <input matInput placeholder="Enter your own IDV value" appOnlyNumbers [formControl]="idvInputValue"
                      [max]="maxIdv" [min]="minIdv" [(ngModel)]="gridsize.value" [readonly]="customIdv" required />
                  </mat-form-field>
                </div>
              </div>
              <div class="col-md-3 filter">
                <input type="button" value="Set Value" (click)="onSetValueClick(this.idvRadioType.value)"
                  class="w--button" />
              </div>
            </mat-radio-group>
          </div>

          <div class="col-md-12 text-center">
            <div class="col-md-12 text-error">
              {{ idvErrMsg }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- new by saurabh end -->

<!-- Insurance details modal -->
<!-- [dataForOriental]="premiumDataPlansForOriental" -->
<plan-and-premium-details #ppp [data]="premiumDataPlans" [selectedIndex]="selectedIndex" [plan]='plan'>
</plan-and-premium-details>
<!-- call plan details -->

<!--- Search Filter Model Large modal -->
<div class="modal fade bd-example-modal-lg Plan_Details" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Refine Plans</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row col-md-12">
          <label class="col-md-2">Select Coverage :</label>
          <div class="col-md-4">
            <select class="form-control" name="plans">
              <option value="100000">1L to 3L</option>
              <option value="400000">4L to 5L</option>
              <option value="600000">6L to 9L</option>
              <option value="1000000">10L to 14L</option>
              <option value="1500000">15L to 24L</option>
              <option value="2500000">25L+</option>
            </select>
          </div>
        </div>
        <hr />
        <div class="row col-md-12">
          <div class="col-md-4">
            <div>
              <table>
                <tr>
                  <td class="colum-table2">Room Rent Limit</td>
                  <td>
                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>No preference</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Only plans with no room limit</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Must have Single Room or higher</mat-checkbox>
                  </td>
                </tr>
              </table>
            </div>
            <div class="spacing">
              <table>
                <tr>
                  <td class="colum-table2">
                    Pre existing disease waiting period
                  </td>
                  <td>
                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>No preference</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Covered after 2 years or less</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Covered after 3 years or less</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Covered after 4 years or less</mat-checkbox>
                  </td>
                </tr>
              </table>
            </div>
          </div>
          <div class="col-md-4">
            <div>
              <table>
                <tr>
                  <td class="colum-table2">Copay</td>
                  <td>
                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Doesn’t Matter</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Only plans without any co-pay</mat-checkbox>
                  </td>
                </tr>
              </table>
            </div>
            <div class="spacing">
              <table>
                <tr>
                  <td class="colum-table2">Critical Illness</td>
                  <td>
                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Doesn’t Matter</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Only plans with additional Critical Illness
                      covers</mat-checkbox>
                  </td>
                </tr>
              </table>
            </div>
            <div class="spacing">
              <table>
                <tr>
                  <td class="colum-table2">Maternity Cover</td>
                  <td>
                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Doesn’t Matter</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Only plans with Maternity cover</mat-checkbox>
                  </td>
                </tr>
              </table>
            </div>
          </div>
          <div class="col-md-4">
            <div>
              <table>
                <tr>
                  <td class="colum-table2">Prefered brands</td>
                  <td>
                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Apollo Munich Health Insurance</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Max Bupa Health Insurance</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Religare</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>HDFC ERGO</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>ManipalCigna</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Kotak Mahindra General Insurance</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Aditya Birla Health Insurance</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Royal Sundaram</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Raheja QBE General Insurance</mat-checkbox>
                  </td>
                </tr>
                <tr>
                  <td class="colum-table2">
                    <mat-checkbox>Edelweiss General Insurance Company Limited</mat-checkbox>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Apply Filters</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Clear
        </button>
      </div>
    </div>
  </div>
</div>

<!-- modal for taking policy expiry date -->
<!-- data-keyboard="false" -->
<!-- id="policyExpiryDateModal" -->
<div class="modal fadin policyexpiry" [ngStyle]="{'display': this.display}" data-backdrop="static" tabindex="-1"
  role="dialog">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title text-center">
          <!-- <ul class="nav nav-tabs" role="tablist"> -->
          <!-- <li
              class="nav-item"
              (click)="onClickPreviousPolicyTab('date')"
              [class.disabled]="this.popupActive == 'ncb'"
            >
              <a class="nav-link" [class.active]="popupActive == 'date'">
                Previous policy expiry Date
              </a>
            </li> -->
          <!-- <li class="nav-item" (click)="onClickPreviousPolicyTab('ncb')"> -->
          <!-- <a class="nav-link" [class.active]="popupActive == 'ncb'"> -->
          <h4>Previous NCB</h4>
          <!-- </a>
            </li> -->
          <!-- </ul> -->
        </div>
        <button type="button" class="close" (click)="closeModalDialog()" data-dismiss="modal" aria-label="Close"
          class="btn2">
          <span aria-hidden="true">&times;</span>
        </button>
        <!-- <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5> -->

        <!-- <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button> -->
      </div>
      <div class="modal-body">
        <div class="col-md-12 col-lg-12">
          <div class="field-wrapper">
            <!-- <div [hidden]="popupActive == 'ncb'">
              <mat-form-field>
                <mat-label>
                  {{
                    plan.PrvPolicyExCode == yesno.YES
                      ? "When did your policy expired ?"
                      : "When will your policy expired?"
                  }}
                </mat-label>
                <input
                  matInput
                  [formControl]="prvPolicyExDate"
                  required
                  [matDatepicker]="dp4"
                  placeholder="01/01/2020"
                  [max]="maxDate"
                  [min]="minDate"
                  maxlength="10"
                />
                <mat-datepicker-toggle matSuffix [for]="dp4">
                </mat-datepicker-toggle>
                <mat-datepicker #dp4 disabled="false"></mat-datepicker>
              </mat-form-field>
            </div> -->
            <div [hidden]="popupActive == 'date'">
              <mat-form-field>
                <mat-label>Select your previous NCB</mat-label>
                <mat-select title="Select NCB" [formControl]="ncbInput">
                  <mat-option [value]="item.value" *ngFor="let item of ncbList">{{ item.value }} %
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-10 text-error">
              {{ ncbExpDateErrMsg }}
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer text-center">
        <div class="col-md-10 text-center"></div>
        <button type="button" class="btn btn-primary btn3" (click)="closeModalDialog()">
          {{ popupActive == "date" ? "Next" : "Update" }}
        </button>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="modal fadein policyexpiry last-insurer" [ngStyle]="{'display':this.myModal}" role="dialog">
    <div class="modal-dialog modal-sm">
      <div class="modal-content" *ngIf="GetIPlansHealth != null">
        <div class="modal-header text-center">
          <div class="modal-title">
            <h4>Last Policy</h4>
          </div>

          <button type="button" class="close" data-dismiss="modal" (click)="closeModalDialog()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body text-center">
          <img src='{{ "assets/img/company-logos/motor/" + GetIPlansHealth.imageName  }}' style="
              width: 100%;
              max-height: 90px;
              max-width: 100px;
              height: 100%;
            " alt="{{GetIPlansHealth.ProductName}}" />
          <p class="mb-3 mt-0">
            <b>
              Is your previous policy with <br />
              {{ GetIPlansHealth.ProductName }}
            </b>
            ?
          </p>
        </div>
        <div class="modal-footer">
          <button mat-raised-button class="ins-price price_btn" (click)="modelclose(1)">
            Yes
          </button>
          <button mat-raised-button class="ins-price price_btn" (click)="modelclose(2)">
            No
          </button>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- modal after answering 'Yes' to the modal above  -->
<!-- id="hadPolicy" changes by kishori -->
<div class="container">
  <div class="modal fadein policyexpiry last-insurer" [ngStyle]="{'display':this.hadPolicy}" role="dialog">
    <div class="modal-dialog modal-md">
      <div class="modal-content" *ngIf="GetIPlansHealth != null">
        <div class="modal-body text-center">
          <img src='{{ "assets/img/company-logos/motor/" + GetIPlansHealth.imageName  }}' style="
              width: 100%;
              max-height: 100%;
              max-width: 200px;
              height: 100%;
            " alt="{{GetIPlansHealth.ProductName}}" />
          <p class="mt-3 mb-0 text-justify">
            Since your existing policy is with
            <b>{{ GetIPlansHealth.ProductName }}</b>, the insurer does not allow you to renew your policy online from
            <b>{{ GetIPlansHealth.ProductName }}</b>. <br />
            You can choose to renew your policy from other options available on
            our portal.
            <!-- Since your existing policy is with
            <b>{{ GetIPlansHealth.ProductName }},</b> the insurer does not allow
            you to buy a <b>{{ GetIPlansHealth.ProductName }}</b> policy. We are
            extremely sorry for this inconvenience. -->
          </p>
        </div>
        <div class="modal-footer">
          <button mat-raised-button class="btn btn-block my-btn" (click)="hadPolicyModalClose()">
            Continue looking for other Plans
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- id="addonConfirmation" -->
<div class="modal fadein policyexpiry" [ngStyle]="{'display' : this.addonConfirmation }" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <!-- <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLongTitle">Addons check</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>

      </div> -->
      <div class="modal-body pb-0">
        <h4 class="text-center mb-0">Did you have 'Zero Depreciation' in your previous policy ?</h4>
        <br>

        <!-- <hr>
        <ul *ngFor='let addon of addonInPreviousPolicy|async'>
          <li> {{addon.AddOnCoverName}}</li>

        </ul> -->
      </div>
      <div class="modal-footer text-right">

        <!-- <button mat-raised-button style="background-color: #ec691f; color: white" data-dismiss="modal">Cancel</button> -->
        <button class="modeldialog" mat-raised-button style="background-color: #ec691f; color: white"
          data-dismiss="modal" (click)="closeModalDialog()">No</button>
        <button class="modeldialog" mat-raised-button style="background-color: #ec691f; color: white"
          (click)='hadAddonsInPreviousPolicy()'>Yes</button>
      </div>
    </div>
  </div>
</div>

<!--PA cover model start-->
<div class="container">
  <div class="modal fadein policyexpiry last-insurer" [ngStyle]="{'display':this.myPAcoverModel}" role="dialog">
    <div class="modal-dialog modal-md">
      <div class="modal-content" *ngIf="GetIPlansHealth != null">
        <div class="modal-header text-center">
          <div class="modal-title">
            <h4>PA cover is mandatory.<br /> Please select the reason why you are not taking PA cover. </h4>
          </div>

          <button type="button" class="close" data-dismiss="modal" (click)="closeModalDialog()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body text-center">
          <section class="example-section">
            <mat-radio-group [(ngModel)]="PaCoverReason" class="row">
              <mat-radio-button style="margin-left: 0;" class="example-margin col-md-12" value="1">The owner does not
                have driving license.
              </mat-radio-button>
              <mat-radio-button style="margin-left: 0;" class="example-margin col-md-12" value="2">Owner already has PA
                cover of at least 15
                lacs.</mat-radio-button>
            </mat-radio-group>
          </section>
        </div>
        <div class="modal-footer">
          <button mat-raised-button class="ins-price price_btn" (click)="modelclose1(PaCoverReason)">
            Next
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!--PA cover model end-->
<app-quotes-sharing-modal #shareQuotesModal [quotesDetailsForSharing]='quotesDetailsForSharing'>
</app-quotes-sharing-modal>

<app-response-modal #showResponseModal [responseDetails]='responseDetails'>
</app-response-modal>